import getConf, { moduleName } from './rollup.config.base.js';
import { uglify } from 'rollup-plugin-uglify';

const config = getConf('umd', 'min');
config.plugins.push(uglify({
  output: {
    comments: new Function(
      'node',
      'comment',
      `
        const { type, value } = comment;
        return type === 'comment2' && value.indexOf('${moduleName} v') !== -1;
      `
    ),
  }
}));

export default config;
